# Source: carina-csi-driver/templates/mutatingwebhooks.yaml
apiVersion: v1
kind: Secret
metadata:
  name: my-release-apiserver-cert
  labels:
    class: carina
    app: csi-carina-controller
    release:  "my-release"
    app.kubernetes.io/instance: "my-release"
    app.kubernetes.io/managed-by: "Helm"
    app.kubernetes.io/name: "carina-csi-driver"
    app.kubernetes.io/version: "0.11.0"
    helm.sh/chart: "carina-csi-driver-v0.11.0"
type: Opaque
data:
  cert: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURqVENDQW5XZ0F3SUJBZ0lRWTVCUGdRK3c5cmVjNUFnc29icUF4REFOQmdrcWhraUc5dzBCQVFzRkFEQVYKTVJNd0VRWURWUVFERXdwemRtTXRZMkYwTFdOaE1CNFhEVEkwTURRd056RXlOVGd5T0ZvWERUTTBNRFF3TlRFeQpOVGd5T0Zvd0lERWVNQndHQTFVRUF4TVZiWGt0Y21Wc1pXRnpaUzFqYjI1MGNtOXNiR1Z5TUlJQklqQU5CZ2txCmhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBeGQzbmR3UkRCbzZ1aGx0ekY5U0w5K2pFdWxMME9RZEEKVndxNzY1anR1OEp6UGVPYjRUaVVMcE1tODB4cDVYRy9tY3VQMFY0QTkycExTd29QbmlhYTZ3MTRiYlRiWnpENQprSE9Sa0xVYW9OdWp0eStraXBzcTRtbWtEMjVOVkxkVmxoa0k3RkNCczRkS2MvSmt3a3B5OVNDWVNzRGxWZ0ZGClBaTHRJU1Zpc0toQS9QNHowOGZIdE5PdXozT3o0Y0RYOGRPYi9QdlhUOWhSdTU0RStFQUJGemVNYnNscFJaamwKMFVtR0I2bTV3Y20rd3Vaczl0ZWd5R0Jpckd4b3g4WTcyTU53K0E5aTc1eGJtZENBbTc4OWVFclpuSHRlMUR2dgo3YSt3NEhsMUVuVWhFVGtjd0V2R2kyNjNGeUlnL0V6bURUU3J5NHNDTDRIZWxLU0xsRVc1aHdJREFRQUJvNEhOCk1JSEtNQTRHQTFVZER3RUIvd1FFQXdJRm9EQWRCZ05WSFNVRUZqQVVCZ2dyQmdFRkJRY0RBUVlJS3dZQkJRVUgKQXdJd0RBWURWUjBUQVFIL0JBSXdBREFmQmdOVkhTTUVHREFXZ0JTNVRtOWI5YzBUQXdLU2VRK3pISVVqVGtxVwpFREJxQmdOVkhSRUVZekJoZ2gxdGVTMXlaV3hsWVhObExXTnZiblJ5YjJ4c1pYSXVaR1ZtWVhWc2RJSWRiWGt0CmNtVnNaV0Z6WlMxamIyNTBjbTlzYkdWeUxtUmxabUYxYkhTQ0lXMTVMWEpsYkdWaGMyVXRZMjl1ZEhKdmJHeGwKY2k1a1pXWmhkV3gwTG5OMll6QU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FRRUFuT2VNVWRaczJlMERMeU5tWTcrZApJREZVdnVrVUVja3FBdWpraG5mTjhsVjdjWFFzWThNUnZ5MVlRVThWM0grRjFaQmwrS2k4bk1pM1F2aTlabVM2CkYxamgvYUllTll1OUpJWjg3QkhWNHRYL0NvRXFTNVQ2Nm56S2NRdjBBYmpaa1dsdmloZ3RBRHBXN1QrVEVackQKY1FLL2tneUVXL0JxVVMzT2lCSXkrcWlGZDN6cmJrN1VBbDB5ZzI0YXRNTmhXZDdUaFVXVU8yNkJvTm1iYk1OQQo1SG1takV0Nk9tcWxiaGcyQTRZeTBrekxENVkvcTJ4RXRjU0xsMHFLZnRCbkNGVlpobUhuYiswcy9oeTQ0QnVYCjlqUjRxb0hTUGZVVmFTclpnRzlSQ2pSakI4bjB5eHZueklRZ2gvNXQ4SEFOQ25kMzlxK2tSVlhuV2J6NCtaaisKaWc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
  key: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFcEFJQkFBS0NBUUVBeGQzbmR3UkRCbzZ1aGx0ekY5U0w5K2pFdWxMME9RZEFWd3E3NjVqdHU4SnpQZU9iCjRUaVVMcE1tODB4cDVYRy9tY3VQMFY0QTkycExTd29QbmlhYTZ3MTRiYlRiWnpENWtIT1JrTFVhb051anR5K2sKaXBzcTRtbWtEMjVOVkxkVmxoa0k3RkNCczRkS2MvSmt3a3B5OVNDWVNzRGxWZ0ZGUFpMdElTVmlzS2hBL1A0egowOGZIdE5PdXozT3o0Y0RYOGRPYi9QdlhUOWhSdTU0RStFQUJGemVNYnNscFJaamwwVW1HQjZtNXdjbSt3dVpzCjl0ZWd5R0Jpckd4b3g4WTcyTU53K0E5aTc1eGJtZENBbTc4OWVFclpuSHRlMUR2djdhK3c0SGwxRW5VaEVUa2MKd0V2R2kyNjNGeUlnL0V6bURUU3J5NHNDTDRIZWxLU0xsRVc1aHdJREFRQUJBb0lCQVFDK2FabkI4eHY5UjNtMApXblViemJNVTA2L2VEczV2d3dhcnZPeXpBT3htNysydTlVYWhLcTJQVkpUN05lSUNwOEJXNUlwMlZSeGcvSzJRCmZSSWlnOHc1dnpEUmdtWlJtOVBPcXlpK05VcDIybWRtZGpiR0hDVGMxZ1RIeE1JdWNHK3dqazhEKzBXVjJ2QlAKUEVpeW9LcVlNdEhidmwzMHNpeEw0UVRLRFF3NEswRHJ6dXJRWTVSeXNuZmp4S0JDem82SGRZWldCTWE4SnJobQpJNmphOW1LSDNCSFE3Y0ZpckMzWE1wTHhFL3Qrc1psaDlFUFZSaE0wQnVZUW5MblhlbndKdlo2eDlVRHVZTXlpCjdCaFljcFJxdDBBbjJ5UWY3eTBGcExYaGdPd0cwemN2bnpOMnBsSlVoRSs4THk2RmFZdXpocFEwS1REMTg2VTIKanlLT1NwNWhBb0dCQU8yNDFzK1NEMDhGczlrM3lPOXZmVVh5WmhGTXFFNzZrdnlPZ3pIWlBuOVlSTVc4ZmlUYQpJY0pQMFhNdjhlbFQrVWhRMmtUZ24xOTF4ajd6OUVPTitSbTVPaUlxNnlxZkpiVjlTN2pTdHlqdU0vOFdxYjM1CmV4SDVBOVo1WGV6Zlk2OU4yc2ZWWlVWV3JEQWUwaWNkYkltT01kZUJoUnVTVUY1cTcrOUpIczg3QW9HQkFOVVUKbE8yaTFsZlVHV0RESFJxeVZuYlBUWWhOeW5wSTZMT2FsajN5UHI2Zm1mamxQdWJsYVRTcmtZWU8wQWxnSTRjcgp2S3dFbEVnSk9KbEdRRGVXbjZ4WDFtM2RCVnZuOVcxUlJKV2c4cm5PRG01MDR4bE0yWWE2OFpjdzdtL3RVY2YvCjU0eXl6Lzg4OHRSaUlUUkJJNXV2SEVHeUJ5M1FkekRhN01TU0JQSWxBb0dBUTdiZkdZbFZhd0VJMWRzYUZYb0EKaVNnZkF0Wi9LdUFkZG10eDI0VXlWRHZrZXg3U0g5VXl3SkxUNnFmQmxPRWlwUUxDNmRQQ0VnTU9VV2hVTDlvRgpGdHE0UUh0Uk9YYlQydnF4MHhmU3JJb05yWi9iQWc1S2pEZ09hODF1ZjhheU1vRk96SlZ3bjJ1czZKZ2U3SjFwCkNWWER4TXRVQ3lLR1doN0Q4YmsyV1hrQ2dZRUFtcFZBNmhsOWVPQkZ2UDR3Q2lNaE9UWnhvQllYYzVtYlFGbEEKOEJYalVUWEdaVndpd3kzaG9qVnA4S0NrYW5qVnJZV2NiZ3N3YkFaTWlsMzl6cFkycHJoZXR2dG1uT051R08yaApYUkFUcDVxR3U3bU8yOWIxNUptUkZVZUpZNmYrOGFLRW9IMUZDbjEwQ1lKYlptWnZaODJsS1QvM2wxUXFkRVlQCkNSaUtBQVVDZ1lCTUY5bWJzMWNnWktKU0QwVGNOODZMUjdwclVndEZ2ZFBtanE1TmxQOUxZVlhkczUwSEhUNGEKUk5DWG9vRkN4N2VRQ1lsOWpvRGxmR0J3b0FMWmdIUlNlRHh3WmxISXQ5Y0tzeGtWQ3dyRUQ3RFMrbzFFMmVMRQpEWTNJZ1RUYldTMndYcnBaZUNkTmhnbGtHWEFBZ3loaExocEw2NU13VXcwQ25TTEZxSEIrL1E9PQotLS0tLUVORCBSU0EgUFJJVkFURSBLRVktLS0tLQo=

---
# Source: carina-csi-driver/templates/mutatingwebhooks.yaml
apiVersion: admissionregistration.k8s.io/v1
kind: MutatingWebhookConfiguration
metadata:
  name: my-release-hook
  namespace: default
webhooks:
  - name: pod-hook.carina.storage.io
    namespaceSelector:
      matchExpressions:
      - key: carina.storage.io/webhook
        operator: NotIn
        values: ["ignore"]
    clientConfig:
      caBundle: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURGakNDQWY2Z0F3SUJBZ0lSQU8yQTFRZVBYSjh0aVpkVENkZ3hKNmN3RFFZSktvWklodmNOQVFFTEJRQXcKRlRFVE1CRUdBMVVFQXhNS2MzWmpMV05oZEMxallUQWVGdzB5TkRBME1EY3hNalU0TWpkYUZ3MHpOREEwTURVeApNalU0TWpkYU1CVXhFekFSQmdOVkJBTVRDbk4yWXkxallYUXRZMkV3Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBCkE0SUJEd0F3Z2dFS0FvSUJBUUN5R3RDeUExZ0ZJZVN0a0ZqQXVEY1RwWEhzZFlMNkczMjhRV0puWFFodEt4VG4KeFQzTk1ra0tPMmVDamlwUUovdWhBK05UU3RkYUkzbDJ2Yks4dWxOMGRiTHZnbnc4OHYzUjZiNWZjQm1QWGQ3cgpkZy92TWhjdjZGOHdTN1hHeXVjWHZOemlhMDR4aDFvejNMSHlQTXlPc1I1WWUvMnZ2cm1HRHYvZUg5K21pL3ZhCm1CNStIcTJFZzgvcUJRSzFUVHJIV3kyenAzcXpnNFZWVk5HUHJXUWttcHpFOFhTenVPWWlZRWJ1YTVDL05IbHEKekZBVkM3ck8rVmVBOGtSTEw0YTkySWs0RCt3c0Z3ak5hblN0QVBkRWZvS0duZ2xWdDIrbkhsR2NuamErL0xWQQpFaVZ4RjJaYUYyVXF3MDU0dGNrRWhWazFpVUhRWXVHZnFJWjFYWFpsQWdNQkFBR2pZVEJmTUE0R0ExVWREd0VCCi93UUVBd0lDcERBZEJnTlZIU1VFRmpBVUJnZ3JCZ0VGQlFjREFRWUlLd1lCQlFVSEF3SXdEd1lEVlIwVEFRSC8KQkFVd0F3RUIvekFkQmdOVkhRNEVGZ1FVdVU1dlcvWE5Fd01Da25rUHN4eUZJMDVLbGhBd0RRWUpLb1pJaHZjTgpBUUVMQlFBRGdnRUJBQ3pmR1BzeG9yQkxEVElyZTdYSXdNcUk4QjkzZ3pqais1NW5Gd3htVTd4T1ZSdjIvOFBoClFZdEtoWHdQZkkxOGhEYUxvbFJLUUpnU3Z0Qnd3VHA4dVg3bTRHTVE5eUYySWdJRXB0bEFxRTBiVmNaeDJtOGcKUCsxVGFTTXFzbWJRcUp0TGNScjd6a2w3WG5DbTYwTGFPaUgxWFpNcVFhNlhtbjNwbzZGd2dYeGgrWmFKRGVmSQp1L2FTMlNkZmZtMjJLQW5RUjF5SDhtbEREdERVL1hHVGhicHowNlBuTUNoQllnd2I4Tm9FTms4b3R3L3IyRGxRCnNUeUg1MVFIdGZ3cVkvYk1FUlhzMGlBeVltdEJCb2lya0RFeHFFVlRkRER6NjlzVk82bGhyWm1rM2x4YWdCZ1kKNk1iQUUyRDF0aUk2WjVTNnNkYkdpbVJkVGdMUGQzSnIrTmM9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
      service:
        name: my-release-controller
        namespace: default
        path: /pod/mutate
        port: 443
    failurePolicy: Ignore
    matchPolicy: Exact
    objectSelector: {}
    reinvocationPolicy: Never
    rules:
      - operations: ["CREATE"]
        apiGroups: [""]
        apiVersions: ["v1"]
        resources: ["pods"]
    admissionReviewVersions: ["v1", "v1beta1"]
    sideEffects: NoneOnDryRun
    timeoutSeconds: 30
